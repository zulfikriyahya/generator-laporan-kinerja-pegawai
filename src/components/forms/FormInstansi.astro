---
import InputGroup from "../InputGroup.astro";
---

<div class="space-y-6 animate-fade-in pb-10">
	<div class="space-y-3">
		<h3
			class="text-xs font-bold text-blue-400 uppercase border-b border-white/10 pb-1"
		>
			2.1 Identitas Instansi (Kop Surat)
		</h3>
		<InputGroup
			label="Header 1 (Kementerian)"
			name="h1"
			model="form.instansi.header1"
			placeholder="KEMENTERIAN AGAMA REPUBLIK INDONESIA"
		/>
		<InputGroup
			label="Header 2 (Kantor)"
			name="h2"
			model="form.instansi.header2"
			placeholder="KANTOR KEMENTERIAN AGAMA KABUPATEN..."
		/>
		<InputGroup
			label="Header 3 (Satuan Kerja)"
			name="h3"
			model="form.instansi.header3"
			placeholder="MADRASAH TSANAWIYAH NEGERI..."
		/>
		<InputGroup
			label="Alamat Lengkap"
			name="addr"
			model="form.instansi.alamat"
			placeholder="Jl. Raya Labuan Km. 5,7 Palurahan, Kaduhejo, Pandeglang - Banten 42253"
		/>
		<div class="grid grid-cols-2 gap-3">
			<InputGroup
				label="Website"
				name="web"
				model="form.instansi.website"
				placeholder="https://mtsn1pandeglang.sch.id"
			/>
			<InputGroup
				label="Email"
				name="mail"
				model="form.instansi.email"
				placeholder="adm@mtsn1pandeglang.sch.id"
			/>
		</div>
	</div>

	<!-- Upload Logo (2 Logo: Kiri dan Kanan) -->
	<div class="grid grid-cols-2 gap-4 border-t border-white/10 pt-4">
		<!-- Logo Kiri (Kementerian Agama) -->
		<div class="bg-slate-800 p-3 rounded text-center">
			<span class="text-xs text-slate-400 block mb-2">Logo Kiri (Kemenag)</span>
			<div
				class="w-20 h-20 mx-auto mb-2 border border-dashed border-slate-600 flex items-center justify-center overflow-hidden bg-white/5 rounded"
			>
				<template x-if="form.instansi.logoUtama">
					<img
						:src="form.instansi.logoUtama"
						class="w-full h-full object-contain"
					/>
				</template>
				<template x-if="!form.instansi.logoUtama">
					<span class="text-[10px] text-slate-500">No Logo</span>
				</template>
			</div>
			<input
				type="file"
				accept="image/*"
				@change="handleUpload($event, 'instansi.logoUtama')"
				class="w-full text-[10px] text-slate-400 file:mr-2 file:py-1 file:px-2 file:border-0 file:rounded file:bg-slate-700 file:text-white hover:file:bg-slate-600"
			/>
			<button
				x-show="form.instansi.logoUtama"
				@click="form.instansi.logoUtama = ''"
				class="mt-2 text-[10px] text-red-400 hover:text-red-300"
			>
				Hapus Logo
			</button>
		</div>

		<!-- Logo Kanan (Madrasah) -->
		<div class="bg-slate-800 p-3 rounded text-center">
			<span class="text-xs text-slate-400 block mb-2"
				>Logo Kanan (Madrasah)</span
			>
			<div
				class="w-20 h-20 mx-auto mb-2 border border-dashed border-slate-600 flex items-center justify-center overflow-hidden bg-white/5 rounded"
			>
				<template x-if="form.instansi.logoInstansi">
					<img
						:src="form.instansi.logoInstansi"
						class="w-full h-full object-contain"
					/>
				</template>
				<template x-if="!form.instansi.logoInstansi">
					<span class="text-[10px] text-slate-500">No Logo</span>
				</template>
			</div>
			<input
				type="file"
				accept="image/*"
				@change="handleUpload($event, 'instansi.logoInstansi')"
				class="w-full text-[10px] text-slate-400 file:mr-2 file:py-1 file:px-2 file:border-0 file:rounded file:bg-slate-700 file:text-white hover:file:bg-slate-600"
			/>
			<button
				x-show="form.instansi.logoInstansi"
				@click="form.instansi.logoInstansi = ''"
				class="mt-2 text-[10px] text-red-400 hover:text-red-300"
			>
				Hapus Logo
			</button>
		</div>
	</div>

	<!-- Pejabat Penandatangan -->
	<div class="space-y-3 pt-4 border-t border-white/10">
		<h3 class="text-xs font-bold text-blue-400 uppercase pb-1">
			Tanda Tangan & Titimangsa
		</h3>

		<InputGroup
			label="Tempat (Titimangsa)"
			name="titimangsa"
			model="form.instansi.titimangsa"
			placeholder="Pandeglang"
		/>

		<div class="p-3 bg-white/5 rounded-lg border border-white/5">
			<p class="text-xs font-bold text-emerald-400 mb-2">
				Kepala Instansi (Pejabat Penilai)
			</p>
			<InputGroup
				label="Nama Kepala"
				name="k_nama"
				model="form.instansi.kepala.nama"
			/>
			<div class="grid grid-cols-2 gap-2 mt-2">
				<InputGroup label="NIP" name="k_nip" model="form.instansi.kepala.nip" />
				<InputGroup
					label="Pangkat"
					name="k_pgkt"
					model="form.instansi.kepala.pangkat"
				/>
			</div>
		</div>
	</div>
</div>
